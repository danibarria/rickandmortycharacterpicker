(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"400b":function(t,a,e){"use strict";var r=e("87a7"),n=e.n(r);n.a},"87a7":function(t,a,e){},"8b24":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"flex flex-center"},[e("q-btn",{attrs:{disabled:t.isShuffle,color:"secondary",label:"Pick Random"},on:{click:t.shuffle}})],1),e("div",{staticClass:"flex flex-center"},[t.calls>0?e("q-card",{staticClass:"my-card"},[e("q-img",{attrs:{src:t.image,basic:""}},[e("div",{staticClass:"absolute-bottom text-subtitle2 text-center"},[t._v("\n          "+t._s(t.character)+"\n        ")])])],1):t._e()],1)])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flex flex-center"},[e("h4",{staticStyle:{"text-align":"center"}},[t._v("What Rick and Morty Character am I?")])])}],s=(e("551c"),e("ac6a"),e("cadf"),e("06db"),e("5df3"),e("967e")),c=e.n(s),i=(e("7f7f"),e("96cf"),e("fa84")),o=e.n(i),u={name:"PageIndex",mounted:function(){try{this.getAPIInformation()}catch(t){console.error("no se pudieron traer los bichos: ".concat(t))}},data:function(){return{isShuffle:!1,timeOut:5,actualImage:null,actualName:null,count:20,first:1,urlBase:"https://rickandmortyapi.com/api/character/",pages:0,APIcalls:0}},computed:{image:function(){return this.actualImage},character:function(){return this.actualName},characters:function(){return this.$store.getters.getCharacters},pagesAPI:function(){return this.pages},calls:function(){return this.APIcalls}},methods:{shuffle:function(){var t=this;return o()(c.a.mark((function a(){var e;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.APIcalls++,t.isShuffle=!0,a.next=4,t.getAllCharacters();case 4:e=setInterval((function(){var a=Math.floor(Math.random()*t.count)+t.first,e=t.$store.getters.getCharacter(a);t.actualName=e.name,t.actualImage=e.image}),100),setTimeout((function(){clearInterval(e),t.isShuffle=!1}),1e3*t.timeOut);case 6:case"end":return a.stop()}}),a)})))()},getAllCharacters:function(){var t=this;return o()(c.a.mark((function a(){var e,r;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$store.dispatch("setPoolClean"),e=Math.floor(Math.random()*t.pagesAPI)+1,a.next=4,t.$axios.get("".concat(t.urlBase,"?page=").concat(e));case 4:r=a.sent,Promise.all(r.data.results.map((function(a){t.$axios.get(a.image)}))),t.first=r.data.results[0].id,t.storeCharacters(r.data.results);case 8:case"end":return a.stop()}}),a)})))()},getAPIInformation:function(){var t=this;return o()(c.a.mark((function a(){var e;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$axios.get(t.urlBase);case 2:e=a.sent,t.pages=e.data.info.pages;case 4:case"end":return a.stop()}}),a)})))()},storeCharacters:function(t){var a=this;t.forEach((function(t){a.$store.dispatch("setCharacter",t)}))}}},l=u,f=(e("400b"),e("2877")),h=e("eebe"),m=e.n(h),d=e("9c40"),p=e("f09f"),g=e("068f"),v=Object(f["a"])(l,r,n,!1,null,"25b3076a",null);a["default"]=v.exports;m()(v,"components",{QBtn:d["a"],QCard:p["a"],QImg:g["a"]})}}]);